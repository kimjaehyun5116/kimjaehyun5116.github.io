---
title:  "[Java] 인터페이스 기본" 
categories: Java
tags: [Java, Programming, coding]
toc: true
toc_sticky: true
date:  2024-05-04
last_modified_at:  2024-05-04
---

![java.png](/assets/images/java.png)

# 인터페이스 기본

## 개요

제품을 나누어 개발한 후 하나로 합칠 때 미리 규격을 정하지 않으면 나중에 문제가 발생할 수 있다. 이때 필요한 것이 인터페이스 `interface`로 사전에 
정한 약속이나 규격을 의미한다. 인터페이스 덕분에 전자제품의 종류에 관계없이 동일한 전기 콘센트를 사용할 수 있는 것이다

![그림 7-2](/assets/images/ex7-2.png)

다수의 개발자가 소프트웨어를 개발하려면 각 클래스를 통합할 약속이 필요한데, 자바는 이 약속을 인터페이스로 정의한다. 인터페이스는 클래스 간에
상호작용하는 규격으로, 사용 방법이 같은 클래스를 만드는 기술이다. 예를들어 그림과 같이 왼쪽 객체는 오른쪽에 있는 네가지 객체의 모양이나 색상에 
관계없이 빨간색 실선 부분만 서로 맞으면 통합할 수 있다. 여기서 빨간 실선 부분이 인터페이스에 해당한다

![그림 7-3](/assets/images/ex7-3.png)

인터페이스를 이용하면 다음 장점을 얻을 수 있다

- 인터페이스만 준수하면 통합에 신경 쓰지 않고 다양한 형태로 새로운 클래스를 개발할 수 있다
- 클래스의 다중 상속을 지원하지 않지만, 인터페이스로 다중 상속 효과를 간접적으로 얻을 수 있다

인터페이스와 추상 클래스는 추상화라는 동일한 목적을 가지지만, 다른 점도 많다. 일부 메서드를 추상화한 추상 클래스와 달리 인터페이스는 모든 맴버를
추상화하므로 추상 클래스의 단적인 예라고 할 수 있다. 인터페이스와 추상 클래스를 사용할 때는 다음 특징을 고려해야 한다

**인터페이스와 추상 클래스의 차이**

|분류|인터페이스| 추상 클래스        |
|-|-|---------------|
|구현 메서드|포함 불가(단, 디폴트 메서드와 정적 메서드는 예외)| 포함가능          |
|인스턴스 변수|포함 불가능| 포함 가능         |
|다중 상속|가능| 불가능           |
|디폴트 메서드|선언 가능| 선언 불가능        |
|생성자와 main()|선언 불가능| 선언 가능         |
|상속에서의 부모|인터페이스| 인터페이스, 추상 클래스 |
|접근 범위|모든 멤버를 공개|추상 메서드를 최소한 자식에게 공개|

추상 클래스에서 추상 메서드는 반드시 자식 클래스에 상속해야 하므로 public 이나 protected 로 지정되어야 하지만, 나머지 멤버는 어떤 접근 지정자로도 지정할 수 있다

---

## 디폴트 메서드와 정적 메서드

JDK 8 에서는 하위 호환성을 유지하면서 기존 인터페이스에 새로운 기능을 추가할 수 있도록 디폴트 메서드 `Default Method` 를 지원한다.
디폴트 메서드를 이용하면 기존에 사용하던 인터페이스의 구현 클래스에 영향을 주지 않고도 인터페이스를 변경할 수 있다.

예를 들어 어떤 인터페이스를 구현한 클래스가 이미 사용되고 있는 상태에서 그 인터페이스를 수정해야 한다고 가정해보자. [그림 7-4]와 같이
method1() 메서드로 구성된 인터페이스 A에 새로운 추상 메서드인 method2()를 추가하면 기존에 구현한 클래스는 method2() 메서드를 구현하지 
않아 모두 오류가 발생한다. 이런 문제점을 디폴트 메서드가 해결한다.

![그림 7-4](/assets/images/ex7-4.png)

디폴트 메서드는 인터페이스의 멤버이지만 구현 메서드로 다음과 같이 반환 타입 앞에 default 라고 명시해야 한다.

```java
default 반환타입 디폴트메서드이름( ) {
  // 본체를 구성하는 코드
}
```

인터페이스 A에 디폴트 메서드를 추가하더라도 기존 구현 클래스는 디폴트 메서드를 구현하지 않아도 되므로 오류 없이 그대로 사용할 수 있다.

![그림 7-5](/assets/images/ex7-5.png)

```
⭐ 인터페이스나 추상 클래스를 구현한 클래스를 문맥상 추론할 수 있으면 그냥 구현 클래스라고 한다. 인터
페이스나 추상 클래스 이름이 A라면 그 구현 클래스를 A 구현 클래스라고 한다. 그리고 구현 클래스로 생
성한 객체를 그냥 구현 객체라고 한다.
```

반면 정적 메서드는 구현된 본체를 가진다는 점에서 디폴트 메서드와 비슷해 보이지만, 근복적으로는 다르다. 디폴트 메서드는 오버라이딩될 수 있지만,
정적 메서드는 오버라이딩될 수 없다. 디폴트 메서드는 인스턴스 메서드이므로 객체를 생성한 후 호출하지만, 정적 메서드는 인터페이스로 직접 호출한다.

---

## 인터페이스의 구조

인터페이스는 무엇을 할지 명시하지만, 어떻게 구현할지는 명시하지 않는다.인터페이스는 클래스와 문법이 유사하지만 인스턴스 변수를 선언할 수 없고, 
객체도 생성할 수 없기 때문에 생성자가 없다. 또 디폴트 메서드와 정적 메서드가 아닌 메서드는 본체 없는 추상 메서드로만 선언할 수 있다.

인터페이스는 `interface` 키워드로 정의하며 구조는 다음과 같다. 모든 멤버가 선택 사항으로 하나 이상을 포함할 수 있다

```java
interface 인터페이스이름 {
  // 상수 필드              상수만 가능하기 때문에 public static final 키워드가 없어도 된다.
  
  
  // 추상 메서드            interface 의 모든 메서드가 public abstract 이기 때문에 public abstract 를 생략해도 된다   
        
  // 디폴트 메서드           JDK 8 부터 선언할 수 있다
  
  //정적 메서드
}
```

인터페이스 멤버에 명시된 `public`, `static`, `final`, `abstract` 키워드는 생략할 수 있다. 생략한 키워드는 컴파일할 때 자동으로 추가한다. 
인터페이스 파일 확장자는 `java`로, 컴파일하면 확장자가 `class`인 파일을 생성한다.

![그림 7-6](/assets/images/ex7-6.png)

인터페이스는 완전히 추상화된 것으로 인스턴스를 생성할 수 없다. 인터페이스를 사용하려면 궁금적으로 인터페이스를 구현한 클래스를 작성해야 한다.

---

## 인터페이스의 상속

인터페이스도 `extends` 키워드를 사용해 자식 인터페이스를 정의할 수 있다. 그리고 인터페이스로 자식 클래스를 정의하려면 추상 메서드를 구현해야 하므로, 
`implements`키워드를 사용한다

```java
// 인터페이스를 상속하려면 extends 키워드를 사용한다.
interface 자식인터페이스 extends 부모인터페이스 {
}

// 인터페이스를 구현하려면 implements 키워드를 사용한다.
class 자식클래스 implements 부모인터페이스 {
}
```

인터페이스가 클래스의 자식이 될 수 없는 것을 제외한 모든 상속 관계가 클래스와 인터페이스 사이에 가능하다.

![그림 7-7](/assets/images/ex7-7.png)

다수의 인터페이스를 상속해 새로운 자식 인터페이스나 구현 클래스를 작성할 수 있다.

```java
// 상속할 인터페이스가 여러 개라면 쉼표(,)로 연결한다.
interface 자식인터페이스 extends 부모인터페이스1, 부모인터페이스2 {
}
class 자식클래스 implements 부모인터페이스1, 부모인터페이스2 {
}
```

심지어 다수의 인터페이스와 하나의 클래스를 상속해 구현 클래스를 작성할 수도 있다. 반면 자바는 둘 이상의 클래스를 상속한 자식 클래스를 작성할 수는 없다

```java
// 인터페이스는 다중 상속할 수 있다.
class 자식클래스 extends 부모클래스 implements 부모인터페이스1, 부모인터페이스2 {
}

// 클래스는 다중 상속할 수 없다.
class 자식클래스 extends 부모클래스1, 부모클래스2 {
}
```

다음과 같이 다수의 인터페이스를 상속해 자식 인터페이스도 작성할 수 있고, 인터페이스와 클래스를 상속해 자식 클래스도 작성할 수 있다.

![그림 7-8](/assets/images/ex7-8.png)

---

